<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>LỊCH LÀM VIỆC</title>
      <style>
         /* General table styles with warm earthy color scheme */
         body {
         font-family: Roboto;
         margin: 20px;
         background-color: #f7f2e8; /* Light beige */
         }
         table {
         width: 100%;
         border-collapse: collapse;
         border-radius: 10px;
         overflow: hidden;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         margin-top: 20px;
         background-color: #fff7e6; /* Soft cream */
         }
         th, td {
         border: 1px solid #d3c6a7; /* Muted brown */
         text-align: center;
         vertical-align: middle;
         padding: 3px;
         }
         th {
         background-color: #a67c52; /* Warm brown */
         color: #fff7e6; /* Cream text */
         font-size: 16px;
         }
         .header {
         background-color: #755c48; /* Deep earthy brown */
         color: #fefaf2; /* Light cream */
         font-size: 20px;
         font-weight: bold;
         text-align: center;
         }
         .status-dropdown {
         background-color: #e3fceb; /* Off-white */
         }
         .total-row {
         background-color: #e4d5b7; /* Soft tan */
         font-weight: bold;
         text-align: center;
		 font-size: 16px;
         }
		 .name-column {
			min-width: 70px; /* Minimum width for the column */
			max-width: 200px; /* Optional: set a maximum width */
			border-radius: 5px;
			font-size: 14px;
			border: 1px solid #b89c7a; /* Muted tan */
			text-align: center;
			text-transform: uppercase;
			overflow: hidden; /* Prevent overflowing content */
			text-overflow: ellipsis; /* Add ellipsis (...) for long text */
			white-space: nowrap; /* Prevent text from wrapping to the next line */
		}
         select, input[type="date"], input[type="text"] {
		 font-size: 14px;
         width: 90%;
         padding: 2px;
         border-radius: 5px;
         border: 1px solid #b89c7a; /* Muted tan */
         text-align: center;
         }
         .date-row {
         background-color: #d1bfa4; /* Warm beige */
         font-weight: bold;
         }
         .add-row-btn {
         margin-top: 20px;
         padding: 12px 20px;
         background-color: #8c6f4a; /* Medium brown */
         color: #fff7e6;
         border: none;
         border-radius: 5px;
         cursor: pointer;
         font-size: 16px;
         }
         .add-row-btn:hover {
         background-color: #755c48; /* Deep earthy brown */
         }
		.delete-btn {
         background-color: transparent;
         border: none;
         cursor: pointer;
         padding: 6px;
         display: flex;
         justify-content: center;
         align-items: center;
         }
         .delete-btn:hover svg circle {
         fill: #d32f2f; /* Darker red for hover effect */
         }
         .delete-btn svg {
         transition: fill 0.2s ease, transform 0.2s ease;
         }
         .delete-btn:hover svg {
         transform: scale(1.1); /* Slight zoom effect on hover */
         }
         /* Hover effect on table rows */
         tbody tr:hover {
         background-color: #f9f2df; /* Soft cream */
         transform: scale(1.01);
         }

		 /* Alternate row colors */
tbody tr:nth-child(odd) {
    background-color: #f9f2df; /* Light cream */
}

tbody tr:nth-child(even) {
    background-color: #fff7e6; /* Soft cream */
}

         /* Mobile responsive adjustments */
         @media (max-width: 768px) {
         th, td {
         padding: 8px;
         font-size: 16px;
         }
         .add-row-btn, .delete-btn {
         font-size: 16px;
         padding: 8px 10px;
         }
         input[type="date"], select {
         font-size: 16px;
         }
         table {
         display: block;
         overflow-x: auto;
         white-space: nowrap;
         }
		 .dragging {
    opacity: 1;
    background-color: #6a329f; /* Highlight color */
}
         }
      </style>
   </head>
   <body>
      <table id="scheduleTable">
         <thead>
            <tr class="date-row">
               <th colspan="9">
                  <div style="text-align: center;">
                     <label for="date-picker" id="date-label">CHỌN NGÀY</label>
                     <input type="date" name="begin" id="date-picker" value="2024-11-18">
                  </div>
               </th>
            </tr>
            <tr>
               <th colspan="9" class="header">LỊCH LÀM VIỆC NHÀ HÀNG & BẾP</th>
            </tr>
            <tr>
               <th id="date-title">NGÀY</th>
               <th id="day1"></th>
               <th id="day2"></th>
               <th id="day3"></th>
               <th id="day4"></th>
               <th id="day5"></th>
               <th id="day6"></th>
               <th id="day7"></th>
               <th id="xoa">XÓA</th>
            </tr>
         </thead>
         <tbody>
            <!-- Sample Rows -->
            <tr draggable="true">
               <td><input type="text" class="name-column" value="HIẾU"></td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <button class="delete-btn" onclick="deleteRow(this)">
                     <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <circle cx="12" cy="12" r="12" fill="#ff4d4d" />
                        <!-- Red circle -->
                        <path d="M9 9h6v10H9z" fill="#ffffff" />
                        <!-- Trash can body -->
                        <path d="M10 5h4v2h-4z" fill="#ffffff" />
                        <!-- Trash can lid -->
                        <path d="M7 7h10v2H7z" fill="#ffffff" />
                        <!-- Top bar -->
                     </svg>
                  </button>
               </td>
            </tr>
            <tr draggable="true">
               <td><input type="text" class="name-column" value="MƠ"></td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <button class="delete-btn" onclick="deleteRow(this)">
                     <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <circle cx="12" cy="12" r="12" fill="#ff4d4d" />
                        <!-- Red circle -->
                        <path d="M9 9h6v10H9z" fill="#ffffff" />
                        <!-- Trash can body -->
                        <path d="M10 5h4v2h-4z" fill="#ffffff" />
                        <!-- Trash can lid -->
                        <path d="M7 7h10v2H7z" fill="#ffffff" />
                        <!-- Top bar -->
                     </svg>
                  </button>
               </td>
            </tr>
            <tr draggable="true">
               <td><input type="text" class="name-column" value="CÔ TÍN "></td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <button class="delete-btn" onclick="deleteRow(this)">
                     <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <circle cx="12" cy="12" r="12" fill="#ff4d4d" />
                        <!-- Red circle -->
                        <path d="M9 9h6v10H9z" fill="#ffffff" />
                        <!-- Trash can body -->
                        <path d="M10 5h4v2h-4z" fill="#ffffff" />
                        <!-- Trash can lid -->
                        <path d="M7 7h10v2H7z" fill="#ffffff" />
                        <!-- Top bar -->
                     </svg>
                  </button>
               </td>
            </tr>
            <tr draggable="true">
               <td><input type="text" class="name-column" value="CHỊ LỆ"></td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <select class="status-dropdown" onchange="updateDropdownColor(this)">
                     <option value="A" style="background-color: #e3fceb;">A</option>
					 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
					 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
					 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
                     <option value="OFF" style="background-color: #f3e908;">OFF</option>
                  </select>
               </td>
               <td>
                  <button class="delete-btn" onclick="deleteRow(this)">
                     <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <circle cx="12" cy="12" r="12" fill="#ff4d4d" />
                        <!-- Red circle -->
                        <path d="M9 9h6v10H9z" fill="#ffffff" />
                        <!-- Trash can body -->
                        <path d="M10 5h4v2h-4z" fill="#ffffff" />
                        <!-- Trash can lid -->
                        <path d="M7 7h10v2H7z" fill="#ffffff" />
                        <!-- Top bar -->
                     </svg>
                  </button>
               </td>
            </tr>
         </tbody>
         <tfoot>
            <tr class="total-row">
               <td id="total-employees-title">SỐ NHÂN VIÊN</td>
               <td id="total1">2</td>
               <td id="total2">2</td>
               <td id="total3">2</td>
               <td id="total4">2</td>
               <td id="total5">2</td>
               <td id="total6">2</td>
               <td id="total7">2</td>
			   <td></td>
            </tr>
            <tr class="total-row">
               <td id="total-guests-title">KHÁCH DỰ KIẾN</td>
               <td><input type="text" value="128"></td>
               <td><input type="text" value="107"></td>
               <td><input type="text" value="42"></td>
               <td><input type="text" value="0"></td>
               <td><input type="text" value="56"></td>
               <td><input type="text" value="114"></td>
               <td><input type="text" value="90"></td>
			   <td></td>
            </tr>
            <tr class="total-row">
               <td id="total-casuals-title">CASUAL DỰ KIẾN</td>
               <td><input type="text" value="1"></td>
               <td><input type="text" value="1"></td>
               <td><input type="text" value="0"></td>
               <td><input type="text" value="0"></td>
               <td><input type="text" value="0"></td>
               <td><input type="text" value="1"></td>
               <td><input type="text" value="1"></td>
			   <td></td>
            </tr>
         </tfoot>
      </table>
      <div style="flex: 1; text-align: left;">
         <button class="add-row-btn" onclick="addRow()">THÊM NHÂN VIÊN</button>
		 <button class="add-row-btn" onclick="exportToImage()">TẢI ẢNH</button>
		 <button class="add-row-btn" onclick="window.location.href='Labor Count.html'">BẢN TÍNH LƯƠNG</button>
         <span id="warning-message" style="color: red; display: none; text-align: center; flex-grow: 1; font-weight: bold; text-transform: uppercase;">
         Ngày đã chọn không phải là thứ 2
         </span>
      </div>

	  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
		<script>
			function exportToImage() {
				html2canvas(document.body).then(canvas => {
					// Create a link element to download the image
					const link = document.createElement('a');
					link.download = 'Lich_Lam_Viec.png'; // Default file name
					link.href = canvas.toDataURL('image/png'); // Convert canvas to data URL
					link.click(); // Trigger download
				}).catch(error => {
					console.error('Error exporting to image:', error);
					alert('Xuất hình ảnh không thành công, vui lòng thử lại!');
				});
			}
		</script>

      <script>
         // Set today's date and update date row
         document.addEventListener('DOMContentLoaded', () => {
			const datePicker = document.getElementById('date-picker');
			const today = new Date();

			// Set today's date in the date picker
			datePicker.value = today.toISOString().split('T')[0]; // Format date as YYYY-MM-DD

			// Function to format the date as "day/month"
			function formatDate(date) {
				const daysOfWeek = ['CN', 'THỨ 2', 'THỨ 3', 'THỨ 4', 'THỨ 5', 'THỨ 6', 'THỨ 7'];
				const dayName = daysOfWeek[date.getDay()];
				const day = date.getDate();
				const month = date.getMonth() + 1; // JavaScript months are 0-based
				const year = date.getFullYear();

				// Format: Day, MM/DD/YYYY
				return `${dayName} - ${day}/${month}`;
			}

			// Function to format the next date
function formatNextDate(startDate, daysToAdd) {
    const nextDate = new Date(startDate);
    nextDate.setDate(startDate.getDate() + daysToAdd); // Add days

    return formatDate(nextDate); // Use the formatDate function to format the next date
}

			// Function to update all "day" columns based on the selected date
			function updateDate() {
				const [year, month, day] = datePicker.value.split('-').map(Number);
				const selectedDate = new Date(year, month - 1, day);

				document.getElementById('day1').textContent = formatDate(selectedDate);

				for (let i = 1; i <= 13; i++) {
					document.getElementById(`day${i + 1}`).textContent = formatNextDate(selectedDate, i);
				}
			}

			// Update dates on date picker change
datePicker.addEventListener('change', updateDate);

// Initial update on page load
updateDate();
			});
         
         
         	
            function addRow() {
                const table = document.getElementById("scheduleTable").getElementsByTagName("tbody")[0];
         
                // Create a new row with editable name field and shift selection
                const newRow = document.createElement("tr");
                    newRow.innerHTML = `
                <td><input type="text" placeholder="Tên Nhân Viên"></td>
					<td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td>
         			<td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td><td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td><td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td><td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td><td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td><td>
						<select class="status-dropdown" onchange="updateDropdownColor(this)">
							 <option value="A" style="background-color: #e3fceb;">A</option>
							 <option value="A-1/2" style="background-color: #e3fceb;">A-1/2</option>
							 <option value="Ax2" style="background-color: #e3fceb;">Ax2</option>
							 <option value="Ax3" style="background-color: #e3fceb;">Ax3</option>
							 <option value="OFF" style="background-color: #f3e908;">OFF</option>
						</select>
					</td>
         		<td>
				<button class="delete-btn" onclick="deleteRow(this)">
					<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
						<circle cx="12" cy="12" r="12" fill="#ff4d4d" /> <!-- Red circle -->
						<path d="M9 9h6v10H9z" fill="#ffffff" /> <!-- Trash can body -->
						<path d="M10 5h4v2h-4z" fill="#ffffff" /> <!-- Trash can lid -->
						<path d="M7 7h10v2H7z" fill="#ffffff" /> <!-- Top bar -->
					</svg>
				</button>
				</td>
				`;

                table.appendChild(newRow);
         	                  
                // Add event listener for the shift selection changes
                const shiftSelects = newRow.querySelectorAll('.status-dropdown');
                shiftSelects.forEach(select => {
                    select.addEventListener('change', updateTotalEmployees);
                });
         
                // Update the total employees after adding a row
                updateTotalEmployees();
            }
         
            // Function to delete a row
            function deleteRow(button) {
                const row = button.parentNode.parentNode; // Get the row that contains the delete button
                row.remove(); // Remove the row from the table
                updateTotalEmployees(); // Update total after deletion
            }
         
            // Function to count the number of "A"s in a column
            function countShifts(columnIndex) {
                const rows = document.querySelectorAll('#scheduleTable tbody tr');
                let count = 0;
                rows.forEach(row => {
                    const select = row.cells[columnIndex].querySelector('select');
                    if (select && select.value === "A") {
                        count++;
                    }
                });
                return count;
            }
         
            // Function to update the total number of employees for each day
            function updateTotalEmployees() {
                for (let i = 1; i <= 7; i++) {
                    const totalCell = document.getElementById(`total${i}`);
                    totalCell.textContent = countShifts(i);
                }
            }
         
            // Event listener for when a shift changes (e.g., from A to OFF or vice versa)
            document.querySelectorAll('select').forEach(select => {
                select.addEventListener('change', updateTotalEmployees);
            });
         
            // Call the update function initially to set the correct counts
            updateTotalEmployees();                  
         
			function updateDropdownColor(dropdown) {
			// Get the selected option
			const selectedOption = dropdown.options[dropdown.selectedIndex];
                    
			// Apply the background color of the selected option to the dropdown
			dropdown.style.backgroundColor = selectedOption.style.backgroundColor;
			}
         
			// Initialize dropdown colors on page load
			document.querySelectorAll('.status-dropdown').forEach(dropdown => {
				updateDropdownColor(dropdown);
			});
			
      </script>

	  <script>
    // Function to handle drag start
    function handleDragStart(event) {
        event.dataTransfer.setData('text/plain', event.target.id);
        event.target.classList.add('dragging');
    }

    // Function to handle drag over
    function handleDragOver(event) {
        event.preventDefault();
        const draggingRow = document.querySelector('.dragging');
        const tableBody = document.querySelector('#scheduleTable tbody');
        const rows = Array.from(tableBody.querySelectorAll('tr'));

        const closestRow = rows.reduce((closest, current) => {
            const box = current.getBoundingClientRect();
            const offset = event.clientY - box.top - box.height / 2;
            if (offset < 0 && offset > closest.offset) {
                return { offset: offset, element: current };
            } else {
                return closest;
            }
        }, { offset: Number.NEGATIVE_INFINITY }).element;

        if (closestRow && closestRow !== draggingRow) {
            tableBody.insertBefore(draggingRow, closestRow);
        }
    }

    // Function to handle drag end
    function handleDragEnd(event) {
        event.target.classList.remove('dragging');
    }

    // Add draggable functionality to rows
    function makeRowsDraggable() {
        const rows = document.querySelectorAll('#scheduleTable tbody tr');
        rows.forEach((row, index) => {
            row.setAttribute('draggable', true);
            row.setAttribute('id', `row-${index}`);
            row.addEventListener('dragstart', handleDragStart);
            row.addEventListener('dragend', handleDragEnd);
        });
    }

    // Initialize drag-and-drop on page load
    document.addEventListener('DOMContentLoaded', () => {
        makeRowsDraggable();

        // Add dragover listener to the table body
        const tableBody = document.querySelector('#scheduleTable tbody');
        tableBody.addEventListener('dragover', handleDragOver);
    });
</script>

   </body>
</html>